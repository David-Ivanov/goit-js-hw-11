{"version":3,"file":"commonHelpers.js","sources":["../src/js/index.js"],"sourcesContent":["'use strict'\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\n\nconst form = document.querySelector(\"form\");\nconst imagesContainer = document.querySelector(\".images\");\n\n\nlet gallery = new SimpleLightbox(\".images a\", {\n    captionsData: 'alt',\n    captionDelay: 250\n});\n\nform.addEventListener('submit', event => {\n    event.preventDefault();\n\n    imagesContainer.innerHTML = `\n    <li>\n        <span class=\"loader\"></span>\n    </li>`\n\n    const value = event.target.elements.search.value;\n\n    const urlParams = new URLSearchParams({\n        key: '41610080-031e2cebad3f84a1c0bee486b',\n        q: value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n\n\n    fetch(`https://pixabay.com/api/?${urlParams}`)\n        .then(response => {\n\n            if (!response.ok) throw new Error(response.status);\n            return response.json();\n        })\n        .then(innerImages)\n        .catch(showError);\n\n    event.target.elements.search.value = '';\n});\n\n\n\nconst innerImages = images => {\n    if (images.hits.length === 0) throw new Error(images.status);\n    imagesContainer.innerHTML = images.hits.reduce((html, { largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => html + `\n    <li class=\"img\">\n       <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <ul class=\"img-info\">\n        <li class=\"img-info-item\"><span>Likes</span> ${likes}</li>\n        <li class=\"img-info-item\"><span>Views</span> ${views}</li>\n        <li class=\"img-info-item\"><span>Comments</span> ${comments}</li>\n        <li class=\"img-info-item\"><span>Downloads</span> ${downloads}</li>\n      </ul>\n    </li>`, '');\n\n    gallery.refresh();\n}\n\nconst showError = () => {\n    iziToast.show({\n        message: `Sorry, there are no images matching your search query. Please try again!`,\n        maxWidth: 432,\n        iconUrl: '../images/error-icon.svg',\n        iconColor: '#FFFFFF',\n        backgroundColor: '#EF4040',\n        messageColor: '#FFFFFF',\n        position: 'topRight'\n    });\n    imagesContainer.innerHTML = '';\n}\n\n\n"],"names":["form","imagesContainer","gallery","SimpleLightbox","event","value","urlParams","response","innerImages","showError","images","html","largeImageURL","webformatURL","tags","likes","views","comments","downloads","iziToast"],"mappings":"6vBAOA,MAAMA,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAkB,SAAS,cAAc,SAAS,EAGxD,IAAIC,EAAU,IAAIC,EAAe,YAAa,CAC1C,aAAc,MACd,aAAc,GAClB,CAAC,EAEDH,EAAK,iBAAiB,SAAUI,GAAS,CACrCA,EAAM,eAAc,EAEpBH,EAAgB,UAAY;AAAA;AAAA;AAAA,WAK5B,MAAMI,EAAQD,EAAM,OAAO,SAAS,OAAO,MAErCE,EAAY,IAAI,gBAAgB,CAClC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAGD,MAAM,4BAA4BC,GAAW,EACxC,KAAKC,GAAY,CAEd,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,MAAM,EACjD,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAKC,CAAW,EAChB,MAAMC,CAAS,EAEpBL,EAAM,OAAO,SAAS,OAAO,MAAQ,EACzC,CAAC,EAID,MAAMI,EAAcE,GAAU,CAC1B,GAAIA,EAAO,KAAK,SAAW,EAAG,MAAM,IAAI,MAAMA,EAAO,MAAM,EAC3DT,EAAgB,UAAYS,EAAO,KAAK,OAAO,CAACC,EAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAOP,EAAO;AAAA;AAAA,kBAE5HC,gBAA4BC,WAAsBC;AAAA;AAAA,uDAEbC;AAAA,uDACAC;AAAA,0DACGC;AAAA,2DACCC;AAAA;AAAA,WAE/C,EAAE,EAEVhB,EAAQ,QAAO,CACnB,EAEMO,EAAY,IAAM,CACpBU,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,IACV,QAAS,2BACT,UAAW,UACX,gBAAiB,UACjB,aAAc,UACd,SAAU,UAClB,CAAK,EACDlB,EAAgB,UAAY,EAChC"}